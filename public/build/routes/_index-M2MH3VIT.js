import{a as q,c as p,e as O,i as W,l as Z}from"/build/_shared/chunk-LYZNHDDP.js";import{c as i}from"/build/_shared/chunk-Q3IECNXJ.js";var n=i(q(),1);var l="/build/_assets/pokeBall-HALVRNNG.png";var y=i(Z(),1),v={"Mr. Mime":"mr-mime","mr. mime":"mr-mime","mr mime":"mr-mime","Mr. Rime":"mr-rime","mr rime":"mr-rime","mr. rime":"mr-rime","Scream Tail":"scream-tail","Flutter Mane":"flutter-mane","Iron Moth":"iron-moth","Iron Jugulis":"iron-jugulis","Iron Bundle":"iron-bundle","Great Tusk":"great-tusk","Brute Bonnet":"brute-bonnet","Slither Wing":"slither-wing","Sandy Shocks":"sandy-shocks","Roaring Moon":"roaring-moon","Walking Wake":"walking-wake","Gouging Fire":"gouging-fire","Raging Bolt":"raging-bolt","Iron Treads":"iron-treads","Iron Hands":"iron-hands","Iron Thorns":"iron-thorns","Iron Valiant":"iron-valiant","Iron Leaves":"iron-leaves","Iron Boulder":"iron-boulder","Iron Crown":"iron-crown","type null":"type-null","Type: Null":"type-null","Type:Null":"type-null","type:null":"type-null","type: null":"type-null","Porygon Z":"porygon-z","porygon z":"porygon-z","Porygon 2":"porygon2","porygon 2":"porygon2","zacian-c":"zacian-crowned","Zacian-C":"zacian-crowned","zacian c":"zacian-crowned","Zacian C":"zacian-crowned","Zacian c":"zacian-crowned","zacian C":"zacian-crowned","Zacian-crowned":"zacian-crowned","Zacian-Crowned":"zacian-crowned","zacian crowned":"zacian-crowned","Zacian Crowned":"zacian-crowned","zamazenta-c":"zamazenta-crowned","Zamazenta-C":"zamazenta-crowned","zamazenta-C":"zamazenta-crowned","Zamazenta-c":"zamazenta-crowned","zamazenta c":"zamazenta-crowned","Zamazenta C":"zamazenta-crowned","zamazenta C":"zamazenta-crowned","Zamazenta c":"zamazenta-crowned","zamazenta crowned":"zamazenta-crowned","farfetch'd":"farfetchd","sirfetch'd":"sirfetchd","mega rayquaza":"rayquaza-mega"};async function T({request:a}){let c="",o=[];try{if(c=new URL(a.url).searchParams.get("pokemon")?.trim()??"",!c)return{pokemon:[]};let w=(e=>e.trim().toLowerCase().replace(/\s+/g,"-"))(c),u=v[c]||v[w]||w;console.log("Mapped API name:",u);let s=await fetch(`https://pokeapi.co/api/v2/pokemon/${u}`);if(!s.ok)return console.error("Pokemon not found:",s.statusText),{pokemon:[]};let m=await s.json();console.log("Fetched Pok\xE9mon data:",m);let J=m.types.map(e=>e.type.name).join(", "),V=m.stats.map(e=>({name:e.stat.name,value:e.base_stat}));o=[{name:m.name,sprite:m.sprites.front_default,types:J,stats:V}]}catch(z){console.error("Error fetching Pok\xE9mon data:",z),o=[]}return{pokemon:o.filter(z=>z.name.toLowerCase().includes(c.toLowerCase()))}}function R(){let{pokemon:a}=W(),c=p(),[o,z]=(0,n.useState)(l),[A,g]=(0,n.useState)(""),[w,u]=(0,n.useState)([]),[s,m]=(0,n.useState)("");(0,n.useEffect)(()=>{a.length>0?(z(a[0].sprite),g(a[0].types),u(a[0].stats)):(z(l),g(""),u([]))},[a]);let J=x=>x.trim().toLowerCase().replace(/\s+/g,"-"),V=x=>{let r=J(x);return v[x]||v[r]||r},e=x=>{if(x.key==="Enter"){x.preventDefault();let r=V(s);c(`/?pokemon=${encodeURIComponent(r)}`),m("")}},k=x=>{switch(x){case"hp":return"bg-green-500";case"attack":return"bg-red-500";case"defense":return"bg-blue-500";case"speed":return"bg-yellow-500";case"special-attack":return"bg-purple-500";case"special-defense":return"bg-teal-500";default:return"bg-gray-500"}};return(0,y.jsxs)("div",{className:"bg-slate-300 p-4 h-screen flex flex-col items-center justify-center",children:[(0,y.jsx)("h1",{className:"text-center text-xl mb-4",children:"Enter the name of a Pok\xE9mon... or suffer the consequences..."}),(0,y.jsx)(O,{className:"text-lg grid mx-[30%]",method:"get",children:(0,y.jsx)("input",{className:"rounded border-3 border-solid m-1 indent-1",type:"text",name:"pokemon",id:"searchField",value:s,onChange:x=>m(x.target.value),onKeyDown:e})}),a.length>0?(0,y.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,y.jsxs)("div",{className:"w-[400px] h-[400px] flex flex-col items-center justify-center border-2 border-gray-400",children:[(0,y.jsx)("img",{className:"max-h-full max-w-full object-contain",src:o,alt:"This is where the sprite renders!"}),(0,y.jsx)("h2",{className:"text-lg mt-2",children:a[0].name}),(0,y.jsx)("p",{className:"text-md",children:A?`Types: ${A}`:"No types available"})]}),(0,y.jsx)("div",{className:"w-[400px] h-[400px] flex flex-col items-start justify-center border-2 border-gray-400 ml-4",children:w.length>0?w.map(x=>(0,y.jsxs)("div",{className:"stat-bar mb-2",children:[(0,y.jsx)("span",{className:"stat-bar-label block text-left mb-1",children:x.name}),(0,y.jsx)("div",{className:"stat-bar-value-container",style:{width:"300px"},children:(0,y.jsx)("div",{className:`stat-bar-value ${k(x.name)}`,style:{width:`${x.value/255*100}%`},children:x.value})})]},x.name)):(0,y.jsx)("p",{children:"No stats available"})})]}):(0,y.jsx)("div",{className:"flex flex-col items-center",children:(0,y.jsx)("img",{className:"w-[250px] h-[250px] object-contain",src:o,alt:"Pok\xE9ball"})})]})}export{T as clientLoader,R as default};
